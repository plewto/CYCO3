<!DOCTYPE HTML>
<html lang="en">

  <head>
      <meta charset="UTF-8">
      <meta name="robots" content="index,follow,archive">
      <meta name="keywords" content="NIL">
      <link rel="stylesheet" type="text/css" href="style.css"/>
      <title>Dynamics</title>
      <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
      <link href='https://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css'/>
      <link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'/>
  </head>
  
<body lang="en-US">
  <a id="top"></a>
  <a href=index.html class="link">Home</a> &nbsp;<a href=keynumbers.html class="navigation">Previous: keynumbers </a> &nbsp;<a href=metrics.html class="navigation">Next: metrics </a> &nbsp;<a href=contents.html class="navigation">Contents </a> &nbsp;
  <hr/>
  <img class="center" src="images/dynamics.png" alt="dynamics"/>
  <h1 class="banner">CYCO Dynamics</h1>
  <p class="body">
    Numerically dynamics values are 'normalized' floats between 0 and 1.  Values above
    1 are clipped to 1.0 and all negative values are treated as rest.   Functions are defined for
    converting between dynamic values and MIDI velocities.
  </p>
  <H2 class="heading">Symbolic Dynamic Values</H2>
  <p class="body">
    Symbolically dynamic values use the common music notation P, MF, F etc.
    These symbols are extended with '-' and '+' suffixes for a finer grained resolution.
  </p>
  <pre class="code">
     R     = -1.0  Rest
     PPPP- ~ 0.016
     PPPP  ~ 0.047
     PPPP+ ~ 0.079
     PPP-  ~ 0.110
     ...
     MP-   ~ 0.417
     MP    ~ 0.457
     MP+   ~ 0.489
     MF-   ~ 0.520
     MF    ~ 0.560
     MF+   ~ 0.590
     ...
     FFFF- ~ 0.292
     FFFF  ~ 0.969
     FFFF+ = 1.000
  </pre>
  <H2 class="heading">Dynamic Functions</H2>
  <p class="body">
    Most dynamic functions take a single value or list of values.
  </p>
  <hr/>
  <a id="dynamic-function"></a>
  
  <!-- (DYNAMIC item) -->
  <!--  -->
  <!--  -->
  <b class="definition">(DYNAMIC item)</b><br>
  <p class="summery">Returns numeric dynamic value of item.</p>
  <pre class="description">
    (DYNAMIC -100) --> -1  a rest
    (DYNAIMC 0.5)  --> 0.5
    (DYNAMIC 1.4)  --> 1.0  clipped to 1.
    (DYNAMIC 'MP)  --> ~0.417
    (DYNAMIC '(0.1 0.2 (R MP MF))) --> (0.2 0.2 (-1 0.417 0.560))
  </pre>
  <hr/>
  <a id="dynamic-name"></a>
  
  <!-- (DYNAMIC-NAME item) -->
  <!--  -->
  <!--  -->
  <b class="definition">(DYNAMIC-NAME item)</b><br>
  <p class="summery">Returns symbolic dynamic value.</p>
  <pre class="description">
    (DYNAMIC-NAME -1.2) --> R
    (DYNAMIC-NAME 0.5)  --> MP+
    (DYNAMIC-NAME 'mf)  --> MF
    (DYNAMIC-NAME '(-1.0 0.5 (MF F))) --> (R MP+ (MF F))
    
    The result of DYNAMIC-NAME may have slight rounding errors.  
    That is for a dynamic value foo, the result of 
    
         (dynamic (dynamic-name foo)) 
    
    is only guaranteed to return a value approximately equal to foo.  
    Further this function is highly inefficient.
  </pre>
  <hr/>
  <a id="defdynamic"></a>
  
  <!-- (DEFDYNAMIC symbol value) -->
  <!--  -->
  <!--  -->
  <b class="definition">(DEFDYNAMIC symbol value)</b><br>
  <p class="summery">Defines user dynamic value</p>
  <pre class="description">
    (DEFDYNAMIC 'piano-crossover 64)
    (DYNAMIC 'piano-crossover) --> 64
  </pre>
  <hr/>
  <a id="dynamic-p"></a>
  
  <!-- (DYNAMIC-P item) -->
  <!--  -->
  <!--  -->
  <b class="definition">(DYNAMIC-P item)</b><br>
  <p class="summery">Predicate, returns T if item is a dynamic value.</p>
  <hr/>
  <a id="dynamic-velocity"></a>
  
  <!-- (DYNAMIC->VELOCITY n) -->
  <!--  -->
  <!--  -->
  <b class="definition">(DYNAMIC->VELOCITY n)</b><br>
  <p class="summery">Converts dynamic value to MIDI velocity.</p>
  <pre class="description">
    (DYNAMIC->VELOCITY 0.5) --> 64
    (DYNAMIC->VELOCITY 'F)  --> 84
    (DYNAMIC->VELOCITY 'R)  --> 0
  </pre>
  <hr/>
  <a href=index.html class="link">Home</a> &nbsp;<a href=keynumbers.html class="navigation">Previous: keynumbers </a> &nbsp;<a href=metrics.html class="navigation">Next: metrics </a> &nbsp;<a href=#top class="navigation">Top </a> &nbsp;<a href=contents.html class="navigation">Contents </a> &nbsp;
  
</body>
</html>