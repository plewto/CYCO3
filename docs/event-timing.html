<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="robots" content="index,follow,archive">
    <meta name="description" content="CYCO Documentation">
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <link rel="icon" href="icon.png"/>
    <title>CYCO Event Timing</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'/>
    
</head>

<body>
<div id="page_wrapper">
<a class="navigation" href="home.html">Home</a>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="navigation" href="contents.html">Contents</a>
&nbsp;&nbsp;&nbsp;&nbsp;<b class="navigation">Previous:</b>&nbsp;<a class="navigation" href="parts.html">Parts</a>
&nbsp;&nbsp;&nbsp;&nbsp;<b class="navigation">Next:</b>&nbsp;<a class="navigation" href="qball.html">Qball</a>

<h2 class="section-head">Event Timing</h2>
<hr/>
<p class="body">
    One of the most important task of a&nbsp;<a href="parts.html">part</a>    &nbsp;is to specify event times.    Time specifications are closely tied to the <nobr><a href="time-signature.html">time-signature</a>    </nobr>but are equally tied to a <a href="#cue-functions">cue function.</a>    &nbsp;The default cue-function, called <i>BAR,</i> tries to balance flexibility    and convenience.&nbsp;With BAR, times are specified by bar, beat and sixteenth    note values.&nbsp;Provisions are made for quarter-note and sixteenth note triplets.    More esoteric times are achieved by adding (or subtracting) an appropriate number    of tick durations.&nbsp; BAR is well suited for most popular music styles, however    it does not get too crazy.</p>
<p class="body">
    To accommodate more complex event timing, CYCO takes a functional approach    and allows the cue-function to be swapped out for something else.  See&nbsp;<a href="#cue-functions">below</a>    &nbsp;for the details of alternate cuing functions.</p>
<hr/>
<h4 class="section-head">Event times using BAR</h4>
<p class="body">
    <b>BAR</b> is the default cue-function responsible for converting user     supplied time-cues to real event times in seconds.  To do this BAR, and all    other cue-functions, operates in the context of the current time-signature.</p>
<p class="body">
    By default, event times are specified as a list of form:</p>
<pre class="code">
(BAR BEAT SUBBEAT TICK)  where

1 &le; BAR &le; bar-count 
1 &le; BEAT &le; beats-per-bar
1 &le; SUBBEAT &le; subbeats-per-beat 
&plusmn; TICK

If subbeats-per-beat has the default value of 4, then a subbeat corresponds to a
sixteenth note.

The list is read left-to-right and all values are optional.  Some examples:

()          - First beat of first bar
(1)         -    same as above
(1 1)       -    same as above
(1 1 1)     -    same as above
(1 1 1 0)   -    same as above
(2)         - First beat of bar 2
(2 1)       -    same as above
(2 3)       - Third beat of bar 2
(2 3 4)     - Bar 2, beat 3, fourth sixteenth note.
(2 3 4 -60) -    subtract 60 tick durations from above.

Triplets are formed by prefixing beat and subbeat values with a 'T'

(1 T1)      - First beat of bar 1,  'T1' and '1' are equivalent.
(1 T2)      - Second quarter-note triplet of bar 1
(1 2 T3)    - Third sixteenth-note triplet after beat 2.


Out of bounds parameters elicit a warning and are treated as 1.  Other 
cue-functions may treat out of bounds values differently.
</pre>
<p class="body">
    The 'T' modifier scales the nominal value by 2/3.  For default time-signatures    with <nobr>4 subbeats per beat,</nobr> a 'T' subbeat corresponds to     a sixteenth note triplet.  The time-signature may have an unusual number    of subbeats, such as 5.  I'm not sure what these values should be called,    perhaps 1/20th notes?  In any case a 'T' modification of thees subbeats     will result in 1/30th of a beat.</p>
<a id="cue-functions"></a>
<hr/>
<h4 class="section-head">Cue Functions</h4>
<p class="body">
    A <i>cue-function</i>&nbsp; converts user supplied time specifications to     actual event times.  The default BAR function, described above, is suitable    for most common music styles.  For more esoteric situations an alternate     cue-function may be used.</p>
<p class="body">
    A cue-function may be set at the&nbsp;<a href="projects.html">project,</a>    <a href="sections.html">section</a>    &nbsp;or&nbsp;<a href="parts.html">part</a>    &nbsp;levels using the <b>:cuefn</b> keyword argument.</p>
<p class="body">
    In general a cue-function has the form:</p>
<pre class="code">
(lambda time-signature arguments)
</pre>
<p class="body">
    Where arguments is the user-supplied cue-point as a list.   The function    should return a float.</p>
<p class="body">
    In practice the cue-function is called by whatever part it is attached to     which is responsible for passing the correct arguments.</p>
<hr/>
<h4 class="section-head">The FLOAT-BAR  cue function</h4>
<p class="body">
    <i>FLOAT-BAR</i> is an alternate cueing function to BAR.      It is similar to BAR but only takes two parameters: bar-number and beat-number.</p>
<p class="body">
    The bar number is an integer as in BAR,  the beat number however may be a     float or rational.  Subbeat values are specified as fractional beat values.      Assuming a time-signature with 4-subbeats the following three lines of cue points    are equivalent.</p>
<pre class="code">
(1 1 1)(1 1 2)(1 1 3)(1 1 4)   ;; using BAR
(1 1)(1 1.25)(1 1.50)(1 1.75)  ;; using float-bar with floats
(1 1)(1 5/4)(1 6/4)(1 7/4)     ;; using float-bar rationals

As with BAR beat counts begin with 1.
</pre>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#top">Top</a>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="navigation" href="home.html">Home</a>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="navigation" href="contents.html">Contents</a>
&nbsp;&nbsp;&nbsp;&nbsp;<b class="navigation">Previous:</b>&nbsp;<a class="navigation" href="parts.html">Parts</a>
&nbsp;&nbsp;&nbsp;&nbsp;<b class="navigation">Next:</b>&nbsp;<a class="navigation" href="qball.html">Qball</a>

</div>
</body>
</html>
