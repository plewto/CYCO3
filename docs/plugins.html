<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="robots" content="index,follow,archive">
    <meta name="description" content="CYCO Documentation">
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <link rel="icon" href="icon.png"/>
    <title>CYCO Plugins</title>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=PT+Serif' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Ubuntu+Mono' rel='stylesheet' type='text/css'/>
    
</head>

<body>
<div id="page_wrapper">
<a class="navigation" href="home.html">Home</a>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="navigation" href="contents.html">Contents</a>
&nbsp;&nbsp;&nbsp;&nbsp;<b class="navigation">Previous:</b>&nbsp;<a class="navigation" href="starting-cyco.html">Starting CYCO</a>
&nbsp;&nbsp;&nbsp;&nbsp;<b class="navigation">Next:</b>&nbsp;<a class="navigation" href="patterns.html">Patterns</a>

<h2 class="section-head">Plugins</h2>
<hr/>
<p class="body">
    Plugins extend CYCO with additional features.&nbsp; One of the most important    uses for plugins is to define the local MIDI environment.&nbsp;    Plugin reside at <nobr>~/.config/cyco/plugins/</nobr></p>
<p class="body">
    The distribution folder <nobr>CYCO/plugins/</nobr> contains several    pre-defined plugins.&nbsp; You should either copy these to    <nobr>~/.config.cyco/plugins/</nobr> or create a symbolic link between these     locations.</p>
<p class="body">
    Each plugin is defined in a sub-folder with the same name, with the entry    point named <nobr><i>name-main.lisp</i></nobr>&nbsp; For plugin 'foo'     the main file is:</p>
<pre class="code">
~/.config/cyco/plugins/foo/foo-main.lisp
</pre>
<p class="body">
    Plugin filenames must be lower case and may not contain white-space.</p>
<b class="definition">(PLUGIN name &optional reload)</b><br>
<p class="synopsis">Load named plugin.&nbsp; Previously loaded plugins are not
reloaded unless the optional reload argument is true.&nbsp; The name
argument may either be a string or symbol.</p>
<b class="definition">(LOAD-PLUGIN-FILE filename)</b><br>
<p class="synopsis">Loads file relative to the current plugin.&nbsp;</p>
<pre class="code">
(plugin 'foo)              ;; loads ~/.config/cyco/plugins/foo/foo-main.lisp
(load-plugin-file 'alpha)  ;; loads ~/.config/cyco/plugins/foo/alpha.lisp
</pre>
<b class="definition">(SUB-PLUGIN name)</b><br>
<p class="synopsis">Loads the named plugin without making it 'current'.
&nbsp; This allows a plugin to make use of an existing plugin.</p>
<pre class="code">
(plugin 'foo)              ;; loads ~/.config/cyco/plugins/foo/foo-main.lisp
(load-plugin-file 'alpha)  ;; loads ~/.config/cyco/plugins/foo/alpha.lisp
(sub-plugin 'baz)          ;; loads ~/.config/cyco/plugins/baz/baz-main.lisp
(load-plugin-file 'beta)   ;; foo is still 'current', loads ../foo/beta.lisp
</pre>
<b class="definition">(FORGET-PLUGINS)</b><br>
<p class="synopsis">Remove all plugins from the list of loaded plugins.<br>
<b>NOTE: forget-plugins does not actually remove the plugin from the running 
instance of CYCO.</b>&nbsp; All it does is remove the <i>record</i> of the plugins 
being loaded.</p>
<p class="body">
    The following global variables control the names and locations of plugin files.</p>
<b class="definition">*CONFIG-DIRECTORY*</b><br>
<b class="definition">*PLUGIN-DIRECTORY*</b><br>
<b class="definition">*CURRENT-PLUGIN*</b><br>
<hr/>
<h4 class="section-head">Anatomy of a Plugin</h4>
<p class="body">
    Other then the locations and file names described    above there are no pre-defined plugin structures; they are simply lisp    source files.</p>
<a id="configuration"></a>
<hr/>
<h4 class="section-head">CYCO Configuration</h4>
<p class="body">
    Plugins evolved from a previous configuration feature used to define    the locally available MIDI devices.&nbsp; CYCO includes two     <nobr>configuration-like</nobr> plugins.</p>
<ol>
    <li>general-midi - A very basic scheme based  around 
<a href='https://en.wikipedia.org/wiki/General_MIDI'>General MIDI</a>
instruments.</li>
    <li>sj - A more involved scheme used as my personal configuration.&nbsp;<br> 
sj has been included solely for illustration, it is unlikely to be of 
use to anyone but myself.</li>
</ol>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="#top">Top</a>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="navigation" href="home.html">Home</a>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="navigation" href="contents.html">Contents</a>
&nbsp;&nbsp;&nbsp;&nbsp;<b class="navigation">Previous:</b>&nbsp;<a class="navigation" href="starting-cyco.html">Starting CYCO</a>
&nbsp;&nbsp;&nbsp;&nbsp;<b class="navigation">Next:</b>&nbsp;<a class="navigation" href="patterns.html">Patterns</a>

</div>
</body>
</html>
